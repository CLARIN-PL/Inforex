# Michał Marcińczuk <marcinczuk@gmail.com>
# maj 2012
# Skrypt do eksportu korpusu KPWr z serwera do plików ccl z podziałem
# na część uczącą, held-out i testową.
# Eksportowane są nazwy własne i relacje semantyczne między nazwami.

FOLDER=$2
URI=gpw:gpw@nlp.pwr.wroc.pl:3308/gpw 
ANN="-a nation_nam -a facility_nam -a periodic_nam -a admin1_nam -a company_nam -a band_nam -a road_nam -a title_nam -a organization_nam -a event_nam -a country_nam -a institution_nam -a person_nam -a city_nam -a media_nam -a river_nam -a mountaion_nam -a astronomical_nam -a political_party_nam -a currency_nam -a admin2_nam -a brand_nam"

if [ "$FOLDER" == "" ]; then
	echo "Podaj ścieżkę"
	exit
fi

if [ "$1" == "do" ]
then

	if [ ! -d $FOLDER ]; then
		echo "Folder '$FOLDER' nie istnieje"
		exit
	fi

	php export-ccl.php -u $URI -c 11 -c 12 $ANN -F "Names=3,4" -f $FOLDER --iob train.iob
	php export-ccl.php -u $URI -c 7        $ANN -F "Names=3,4" -f $FOLDER --iob tune.iob
	php export-ccl.php -u $URI -c 10       $ANN -F "Names=3,4" -f $FOLDER --iob test.iob
else
        echo "Sposób wywołania:"
	echo "  bash bash-export-kpwr-iob-30nam do /path/to/folder"
fi
